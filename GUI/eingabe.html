<html>
	<body bgcolor="#F5F5F5" text="#000000">
		<script type="text/javascript"> 
			function fileChange(){
				//FileList Objekt aus dem Input Element mit der ID "datei"
				var fileList = document.getElementById("datei").files;
			
				//File Objekt (erstes Element der FileList)
				var file = fileList[0];
			
				//File Objekt nicht vorhanden = keine Datei ausgewählt oder vom Browser nicht unterstützt
				if(!file)
					return;
			
				document.getElementById("fileName").innerHTML = 'Dateiname: ' + file.name;
				document.getElementById("fileSize").innerHTML = 'Dateigr&ouml;\u00dfe: ' + file.size + ' B';
				document.getElementById("fileType").innerHTML = 'Dateitype: ' + file.type;
				document.getElementById("progress").value = 0;
				document.getElementById("prozent").innerHTML = "0%";
			}
			
			var client = null;
			
			function uploadFile(){
				//Wieder unser File Objekt
				var file = document.getElementById("datei").files[0];
				//FormData Objekt erzeugen
				var formData = new FormData();
				//XMLHttpRequest Objekt erzeugen
				client = new XMLHttpRequest();
				
				var prog = document.getElementById("progress");
			
				if(!file)
				return;
			
				prog.value = 0;
				prog.max = 100;
			
				//Fügt dem formData Objekt unser File Objekt hinzu
				formData.append("datei", file);
				
			
				client.onerror = function(e) {
					alert("onError");
				};
			
				client.onload = function(e) {
					document.getElementById("prozent").innerHTML = "100%";
					prog.value = prog.max;
				};
					
				client.upload.onprogress = function(e) {
					var p = Math.round(100 / e.total * e.loaded);
					document.getElementById("progress").value = p;            
					document.getElementById("prozent").innerHTML = p + "%";
				};
				//formData.append("date", file.DateCreated);
				client.open("POST", "upload.php");
				client.send(formData);
			}
			function resetData(){
				window.location.reload();
				alert('Ihre Eingaben wurden zur\u00fcckgesetzt.');
				return;
			}
		</script>
				
		<u><font size="6"><p align="center">Eingabe</p></font></u><br><br>

		<form method="post" action="upload.php" enctype="multipart/form-data">
			<input type="hidden" name="MAX_FILE_SIZE" value="1000000000">
			Ziehen Sie Ihre Datei in den Bereich oder klicken Sie auf ihn!<br><br>
			<input class="box__file" style="border:1px dashed blue;cursor:pointer;width:300px;" type="file" onchange="fileChange();" name="datei" id="datei" data-multiple-caption="{count} files selected" multiple >
			<br><br>
			
			<label for="beschreibung">Optionale Beschreibung:</label>
			<input type="text" id="beschreibung" name="beschreibung" value="" style="width:200px"><br><br>
			
			<input type="reset" onclick="resetData();" >
			<input type="submit" name="Submit" onclick="uploadFile();" value="Hochladen">
		</form>
		<div>
			<div id="fileName"></div>
			<div id="fileSize"></div>
			<div id="fileType"></div>
			<progress id="progress" style="margin-top:10px"></progress> <span id="prozent"></span>
		</div>
		<br><br>			
	</body>
</html>